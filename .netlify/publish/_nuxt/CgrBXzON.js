import{_ as g,S as r}from"./BOwnDkFA.js";import{_ as w}from"./Bv5ESs5U.js";import{r as d,c as _,a as e,b as i,d as a,w as v,E as y,y as u,z as m,x as c,A as p,o as z,B as k}from"#entry";import{A as B}from"./RFFMw9Sg.js";const T={class:"flex bg-zinc-900 h-screen"},S={class:"bg-black w-[500px] p-10 flex flex-col justify-center"},h={class:"text-zinc-300 text-sm mt-1"},L={class:"mt-10"},V={class:"mt-6"},A={class:"w-full mt-4 bg-yellow-500 rounded-full px-3 py-2 text-sm font-bold flex justify-center items-center space-x-2"},P={__name:"login",setup(E){const o=d(""),s=d("");async function f(){if(!o.value||!s.value){r.fire({title:"Missing fields",text:"Please enter both email and password.",icon:"warning",confirmButtonText:"OK"});return}try{const l=await $fetch("/api/login",{method:"POST",body:{email:o.value,password:s.value}}),{isConfirmed:t}=await r.fire({title:"Success!",text:"Logged in successfully.",icon:"success",confirmButtonText:"Close"});t&&k("/")}catch(l){console.error("Login error:",l),console.log(l.response?._data?.message),r.fire({title:"Error!",text:l.response?._data?.message,icon:"error",confirmButtonText:"OK"})}}return(l,t)=>{const x=g,b=w;return z(),_("div",T,[e("div",S,[i(x),t[8]||(t[8]=e("h1",{class:"text-white font-bold text-lg mt-8"},"Log in to your account",-1)),e("p",h,[t[3]||(t[3]=a(" Don't have an account? ",-1)),i(b,{to:"/register",class:"font-bold text-yellow-500 underline"},{default:v(()=>[...t[2]||(t[2]=[a(" Sign up ",-1)])]),_:1}),t[4]||(t[4]=a(" for one. ",-1))]),e("form",{onSubmit:y(f,["prevent"])},[e("div",L,[t[5]||(t[5]=e("label",{for:"email",class:"text-zinc-300 text-sm block mb-1"},"Email Address",-1)),u(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>p(o)?o.value=n:null),type:"email",autocomplete:"email",class:"block w-full bg-gray-700 border border-zinc-400 rounded text-white text-sm px-3 py-2 placeholder:text-zinc-400",placeholder:"email@example.com"},null,512),[[m,c(o)]])]),e("div",V,[t[6]||(t[6]=e("label",{for:"password",class:"text-zinc-300 text-sm block mb-1"},"Password",-1)),u(e("input",{"onUpdate:modelValue":t[1]||(t[1]=n=>p(s)?s.value=n:null),type:"password",autocomplete:"password",class:"block w-full bg-gray-700 border border-zinc-400 rounded text-white text-sm px-3 py-2 placeholder:text-zinc-400",placeholder:"***********"},null,512),[[m,c(s)]])]),e("div",null,[e("button",A,[t[7]||(t[7]=e("span",null,"Log in",-1)),i(B)])])],32)]),t[9]||(t[9]=e("div",null,null,-1))])}}};export{P as default};
