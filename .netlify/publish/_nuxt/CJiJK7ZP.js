import{_ as P,S as v}from"./BOwnDkFA.js";import{_ as S}from"./Bv5ESs5U.js";import{r as a,c as y,a as t,b as g,d as x,w as B,E as V,D as k,y as f,z as A,x as o,A as w,G as z,t as m,H as T,o as b,B as U}from"#entry";import{A as D}from"./RFFMw9Sg.js";const E={class:"flex bg-zinc-900 h-screen"},M={class:"bg-black w-[500px] p-10 flex flex-col justify-center"},N={class:"text-zinc-300 text-sm mt-1"},$={class:"mt-6 relative"},q=["type"],H={class:"mt-6 relative"},L=["type"],R={key:0,class:"text-sm text-red-400 mt-3",role:"alert"},j=["disabled"],K={__name:"register",setup(G){const n=a(""),r=a(""),i=a(""),u=a(!1),c=a(!1),d=a(!1),s=a("");async function _(){if(s.value="",!n.value||!r.value||!i.value){s.value="Please fill out all fields.";return}if(r.value!==i.value){s.value="Passwords do not match.";return}d.value=!0;try{const p={email:n.value.trim().toLowerCase(),password:r.value};await $fetch("/api/user",{method:"POST",body:p}),await v.fire({title:"Success!",text:"Account created successfully.",icon:"success",confirmButtonText:"Close"}),U("/")}catch(p){s.value=p?.response?._data?.message||"Could not create account.",await v.fire({title:"Error!",text:s.value,icon:"error",confirmButtonText:"Close"})}finally{d.value=!1}}return(p,e)=>{const h=P,C=S;return b(),y("div",E,[t("div",M,[g(h),e[12]||(e[12]=t("h1",{class:"text-white font-bold text-lg mt-8"},"Sign up for a free account",-1)),t("p",N,[e[6]||(e[6]=x(" Already registered? ",-1)),g(C,{to:"/login",class:"font-bold text-yellow-500 underline"},{default:B(()=>[...e[5]||(e[5]=[x(" Log in ",-1)])]),_:1}),e[7]||(e[7]=x(" to your account ",-1))]),t("form",{onSubmit:V(_,["prevent"]),class:"mt-8"},[t("div",null,[e[8]||(e[8]=t("label",{for:"email",class:"text-zinc-300 text-sm block mb-1"},"Email Address",-1)),f(t("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=l=>w(n)?n.value=l:null),type:"email",inputmode:"email",autocomplete:"email",required:"",class:"block w-full bg-gray-700 border border-zinc-400 rounded text-white text-sm px-3 py-2 placeholder:text-zinc-400",placeholder:"you@example.com"},null,512),[[A,o(n)]])]),t("div",$,[e[9]||(e[9]=t("label",{for:"password",class:"text-zinc-300 text-sm block mb-1"},"Password",-1)),f(t("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=l=>w(r)?r.value=l:null),type:o(u)?"text":"password",autocomplete:"new-password",required:"",class:"block w-full bg-gray-700 border border-zinc-400 rounded text-white text-sm px-3 py-2 placeholder:text-zinc-400 pr-10",placeholder:"••••••••"},null,8,q),[[z,o(r)]]),t("button",{type:"button",onClick:e[2]||(e[2]=l=>u.value=!o(u)),class:"absolute right-3 top-8 text-zinc-400 hover:text-white text-xs focus:outline-none"},m(o(u)?"Hide":"Show"),1),e[10]||(e[10]=t("p",{class:"text-xs text-zinc-400 mt-1"},"Use at least 8 characters with uppercase, lowercase, a number, and a symbol.",-1))]),t("div",H,[e[11]||(e[11]=t("label",{for:"confirmPassword",class:"text-zinc-300 text-sm block mb-1"},"Confirm Password",-1)),f(t("input",{id:"confirmPassword","onUpdate:modelValue":e[3]||(e[3]=l=>w(i)?i.value=l:null),type:o(c)?"text":"password",autocomplete:"new-password",required:"",class:"block w-full bg-gray-700 border border-zinc-400 rounded text-white text-sm px-3 py-2 placeholder:text-zinc-400 pr-10",placeholder:"Re-enter password"},null,8,L),[[z,o(i)]]),t("button",{type:"button",onClick:e[4]||(e[4]=l=>c.value=!o(c)),class:"absolute right-3 top-8 text-zinc-400 hover:text-white text-xs focus:outline-none"},m(o(c)?"Hide":"Show"),1)]),o(s)?(b(),y("p",R,m(o(s)),1)):k("",!0),t("div",null,[t("button",{disabled:o(d),class:"w-full mt-5 bg-yellow-500 rounded-full px-4 py-2 text-sm font-bold flex justify-center items-center space-x-2 disabled:opacity-60 disabled:cursor-not-allowed"},[t("span",null,m(o(d)?"Creating account…":"Sign Up"),1),o(d)?k("",!0):(b(),T(D,{key:0}))],8,j)])],32)]),e[13]||(e[13]=t("div",null,null,-1))])}}};export{K as default};
